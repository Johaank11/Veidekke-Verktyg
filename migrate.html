<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Migrering till Supabase - Verktyg/Utrustning</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .migration-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .success {
            color: green;
            font-weight: bold;
        }
        .error {
            color: red;
            font-weight: bold;
        }
        #migration-results {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
            min-height: 100px;
        }
    </style>
</head>
<body>
    <div class="container migration-container">
        <h1>Migrering till Supabase <span class="company-name">Veidekke</span></h1>
        
        <div class="info-box">
            <h2>Flytta data till molnet</h2>
            <p>
                Denna sida hjälper dig att flytta din data från din webbläsares lokala lagring (localStorage) 
                till Supabase molnlagring. Detta gör att din data kommer att vara tillgänglig på alla enheter
                och även om du rensar webbläsarens cache.
            </p>
            <p>
                <strong>OBS!</strong> Detta behöver endast göras en gång. Befintlig data i localStorage kommer 
                att föras över till molnet, och alla framtida ändringar sparas automatiskt i molnet.
            </p>
            
            <button id="start-migration" class="btn btn-success">Starta migrering</button>
        </div>
        
        <div id="migration-results">
            <!-- Resultat kommer att visas här -->
            <p>Klicka på "Starta migrering" för att börja processen.</p>
        </div>
        
        <div class="action-links">
            <a href="index.html" class="btn">Tillbaka till applikationen</a>
        </div>
    </div>
    
    <!-- Load Supabase library (make it globally available as supabaseClient) -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script>
        // Make Supabase client available globally
        window.supabaseClient = supabase;
        
        // Global access to Supabase key
        window.SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRteG52dnphc3ZvenlzeGlnaGNmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0MzM1NTY5NCwiZXhwIjoyMDU4OTMxNjk0fQ.vjj7Ma1WV2cVlShIPHW1aqYcIQvEv7LRBMmRjXU1hxI';
    </script>
    
    <!-- Normal script (not module) for simpler access to DOM -->
    <script src="js/migrate-to-supabase.js"></script>
</body>
</html> 